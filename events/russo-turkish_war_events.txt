namespace = russo-turkish_war

# start event
russo-turkish_war.1 = {
	type = country_event
	placement = root
	title = russo-turkish_war.1.t
	desc = russo-turkish_war.1.d
	flavor = russo-turkish_war.1.f

	duration = 3

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	trigger = {
	}

	immediate = {
		random_interest_group = {
			limit = {
				is_powerful = yes
				is_in_government = yes
				OR = {
					is_interest_group_type = ig_armed_forces
					leader = {
						OR = {
							has_ideology = ideology:ideology_jingoist_leader
							has_ideology = ideology:ideology_ethno_nationalist
							has_ideology = ideology:ideology_fascist
						}
					}
				}
			}
			leader = { save_scope_as = borders_leader } #Esto se usa en la localización para nombrar de manera dinámica y dar detalle así.
		}
		c:RUS = { save_scope_as = russo_scope } #Idem.
	}

	option = {
		name = russo-turkish_war.1.a
		default_option = yes
		ai_chance = {
			base = 50
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_KARS }
			}
			s:STATE_KARS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_TRABZON }
			}
			s:STATE_TRABZON = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ERZURUM }
			}
			s:STATE_ERZURUM = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_KASTAMONU }
			}
			s:STATE_KASTAMONU = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MOLDOVA }
			}
			s:STATE_MOLDOVA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_WALLACHIA }
			}
			s:STATE_WALLACHIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = s:STATE_DOBRUDJA }
			}
			s:STATE_DOBRUDJA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = s:STATE_BULGARIA }
			}
			s:STATE_BULGARIA = {
				add_claim = ROOT
			}
		}
		add_modifier = {
			name = russian_big_border_pursuit
			days = very_long_modifier_time
			# country_infamy_decay_mult
		}
		every_country = {
			limit = {
				NOT = { THIS = ROOT }
				any_scope_state = {
					OR = {
						state_region = s:STATE_KARS
						state_region = s:STATE_TRABZON
						state_region = s:STATE_ERZURUM
						state_region = s:STATE_KASTAMONU
						state_region = s:STATE_MOLDAVIA
						state_region = s:STATE_WALLACHIA
						state_region = s:STATE_BULGARIA
						state_region = s:STATE_DOBRUDJA
					}
				}
			}
			trigger_event = { id = } #Respuesta del jugador Otomano. Mejorar relaciones con potencias occidentales y/o conscriptos en las regiones afectadas.
		}
		hidden_effect = {
			every_country = {
				limit = {
					has_diplomatic_relevance = c:RUS
					NOT = { THIS = ROOT }
				}
				post_notification = russo_big_border_notification
			}
		}
	}
	
	option = { # imperialist IG's unhappy
		name = russo-turkish_war.1.d
		ai_chance = {
			base = 10
		}
		custom_tooltip = {
			text = dismiss_russo-turkish_war_tt
			set_variable = reject_russo-turkish_war
		}
		every_interest_group = {
			limit = {
				is_powerful = yes
				is_in_government = yes
				OR = {
					is_interest_group_type = ig_armed_forces
					leader = {
						OR = {
							has_ideology = ideology:ideology_jingoist_leader
							has_ideology = ideology:ideology_ethno_nationalist
							has_ideology = ideology:ideology_fascist
						}
					}
				}
			}
			add_modifier = {
				name = no_russo-turkish_war
				days = long_modifier_time
				is_decaying = yes
				# interest_group_approval_add
			}
		}
	}
}
